---
变量输出格式:
  rule:
    - you must output the update analysis and the actual update commands at once in the end of the next reply
    - the update commands works like the **JSON Patch (RFC 6902)** standard, must be a valid JSON array containing operation objects, but supports the following operations instead:
        - replace: replace the value of existing paths
        - delta: update the value of existing number paths by a delta value
        - insert: insert new items into an object or array (using `-` as array index intends appending to the end)
        - remove
        - move
    - don't update field names starts with `_` as they are readonly, such as `_主视角`
  format: |-
    <UpdateVariable>
    <Analysis>$(IN ENGLISH, no more than 80 words)
    - ${calculate time passed: ...}
    - ${decide whether dramatic updates are allowed as it's in a special case or the time passed is more than usual: yes/no}
    - ${analyze every variable based on its corresponding `check`, according only to current reply instead of previous plots: ...}
    </Analysis>
    <JSONPatch>
    [
      { "op": "replace", "path": "${/世界/当前时间}", "value": "${new_time}" },
      { "op": "replace", "path": "${/世界/当前地点}", "value": "${new_location}" },
      { "op": "replace", "path": "${/保登心爱/当前位置}", "value": "${new_position}" },
      { "op": "replace", "path": "${/保登心爱/心情状态}", "value": "${new_mood}" },
      { "op": "replace", "path": "${/保登心爱/着装}", "value": "${new_outfit}" },
      { "op": "delta", "path": "${/店铺人气/Rabbit House}", "value": "${positive_or_negative_delta}" },
      { "op": "insert", "path": "${/世界/近期事务/新事务名}", "value": "${事务描述}" },
      { "op": "insert", "path": "${/保登心爱/关键物品/新物品名}", "value": { "描述": "${物品描述}", "数量": ${数量} } },
      { "op": "insert", "path": "${/当前场景角色/-}", "value": "${角色名}" },
      { "op": "remove", "path": "${/世界/近期事务/已完成事务名}" },
      { "op": "remove", "path": "${/当前场景角色/0}" },
      ...
    ]
    </JSONPatch>
    </UpdateVariable>
