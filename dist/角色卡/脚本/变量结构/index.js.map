{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/src/角色卡/schema.ts","src://tavern_helper_template/src/角色卡/脚本/变量结构/index.ts"],"sourcesContent":["import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nexport const Schema = z.object({\n    世界: z.object({\n        当前时间: z.string().describe('%M-%d %H:%i'),\n        当前地点: z.string(),\n        当前季节: z.enum(['春', '夏', '秋', '冬']),\n        当前天气: z.string(),\n        近期事务: z.record(z.string().describe('事务名'), z.string().describe('事务描述')),\n    }),\n    _主视角: z.enum(['无', '保登心爱', '香风智乃', '天天座理世', '宇治松千夜', '桐间纱路']),\n    当前场景角色: z.array(z.string()),\n    保登心爱: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    香风智乃: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    天天座理世: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    宇治松千夜: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    桐间纱路: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    条河麻耶: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    奈津惠: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    风衣叶冬优: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    神沙夏明: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    神沙映月: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    狩手结良: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    青山蓝山: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    真手凛: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    保登摩卡: z.object({\n        当前位置: z.string(),\n        心情状态: z.string(),\n        着装: z.string(),\n        关键物品: z\n            .record(z.string().describe('物品名'), z.object({\n            描述: z.string(),\n            数量: z.coerce.number(),\n        }))\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    }),\n    店铺人气: z.object({\n        'Rabbit House': z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        甘兔庵: z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        'Fleur de Lapin': z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        'Bright Bunny': z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n    }),\n});\n$(() => {\n    registerMvuSchema(Schema);\n});\n","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nimport { Schema } from '../../schema';\n\n$(() => {\n  registerMvuSchema(Schema);\n});\n"],"names":["Schema","object","string","describe","enum","record","array","coerce","number","transform","data","_","pickBy","v","clamp","$"],"sourceRoot":""}