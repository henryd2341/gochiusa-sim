<head><script type="module">import*as e from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import*as t from'https://testingcf.jsdelivr.net/npm/vue-router/+esm';import*as n from'https://testingcf.jsdelivr.net/npm/vue/+esm';var o={729(e,t,n){n.d(t,{m:()=>r});var o=n(35),a=n(300);function s(e){if('number'==typeof e&&Number.isFinite(e)&&e>=0)return e;const t=getLastMessageId();return t>=0?t:0}const r=(0,o.defineStore)('gochiusa-character-v3',()=>{const e=(0,a.ref)(!1),t=(0,a.ref)(null);async function n(n){e.value||(await waitGlobalInitialized('Mvu'),e.value=!0);try{const e=Mvu.getMvuData({type:'message',message_id:s(n)});t.value=(o=e?.stat_data,'object'==typeof o&&null!==o?o:null)}catch(e){console.warn('[同层前端_v3] 读取 MVU 数据失败:',e),t.value=null}var o}return{isReady:e,mvuData:t,initialize:async function(t){e.value||(await waitGlobalInitialized('Mvu'),e.value=!0),await n(t)},refresh:n,getCurrentSceneCharacters:function(){const e=t.value?.当前场景角色;return Array.isArray(e)?e:[]}}})},682(e,t,n){n.d(t,{T:()=>c});var o=n(35),a=n(300);const s='gochiusa-sim.pov.v3',r={保登心爱:'【开场】清晨的 Rabbit House 弥漫着新烘焙咖啡的香气。你推门而入，心爱正在柜台后朝你挥手，今天的故事从这一刻开始。',香风智乃:'【开场】咖啡杯沿升起细白热气。你安静地坐下，智乃把菜单轻轻推到你面前，视线在你与窗外晨光之间短暂停留。',天天座理世:'【开场】门铃清脆作响。理世利落地整理着围裙与杯具，向你点头示意。今天的每一步选择，都会让日常偏离原有轨道。',宇治松千夜:'【开场】和风甜点的香气从柜台另一侧飘来。千夜眯着眼微笑，把刚出炉的点心摆上托盘，邀请你参与今天的安排。',桐间纱路:'【开场】你刚落座，纱路已经把账本与托盘分门别类地摆好。她装作镇定地抬头，语速比平时略快地向你说明今天的计划。'},l='保登心爱';const c=(0,o.defineStore)('gochiusa-game-v3',()=>{const e=(0,a.ref)(''),t=(0,a.ref)(-1),n=(0,a.ref)([]),o=(0,a.ref)(!1),c=(0,a.ref)(!1),i=(0,a.ref)(function(){try{const e=localStorage.getItem(s);return'string'==typeof e&&e.length>0?e:null}catch{return null}}());return{currentMessage:e,currentMessageId:t,options:n,isGenerating:o,isLoading:c,selectedPov:i,setMessage:function(n,o){e.value=n,t.value=o},setOptions:function(e){n.value=e},setGenerating:function(e){o.value=e},setLoading:function(e){c.value=e},setPov:function(e){i.value=e;try{localStorage.setItem(s,e)}catch{}},getOpeningLine:function(){const e=i.value??l;return r[e]??r[l]},listAvailablePov:function(){return Object.keys(r)}}})},63(e,t,n){n.d(t,{C:()=>l});var o=n(35),a=n(300);const s='gochiusa-sim.ui-settings.v3',r={theme:'warm',fontScheme:'default',fontSize:'medium'};const l=(0,o.defineStore)('gochiusa-settings-v3',()=>{const e=(0,a.ref)(function(e){if(!e)return{...r};try{const t=JSON.parse(e);return{theme:'warm'===t.theme||'cool'===t.theme||'high-contrast'===t.theme||'eye-care'===t.theme?t.theme:r.theme,fontScheme:'default'===t.fontScheme||'reading'===t.fontScheme||'artistic'===t.fontScheme?t.fontScheme:r.fontScheme,fontSize:'small'===t.fontSize||'medium'===t.fontSize||'large'===t.fontSize?t.fontSize:r.fontSize}}catch{return{...r}}}(localStorage.getItem(s)));return(0,a.watch)(e,e=>{try{localStorage.setItem(s,JSON.stringify(e))}catch{}},{deep:!0}),{settings:e,updateSettings:function(t){e.value={...e.value,...t}},resetSettings:function(){e.value={...r}}}})},378(e,t,n){n.d(t,{default:()=>B}),n.r(t);var o=n(300),a=n(729),s=n(682);const r={class:'card message-display'},l={class:'head'},c={class:'content'},i=(0,o.defineComponent)({__name:'MessageDisplay',props:{message:{},messageId:{}},setup(e){const t=e,n=(0,o.computed)(()=>t.message);return(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',r,[(0,o.createElementVNode)('header',l,[a[0]||(a[0]=(0,o.createElementVNode)('strong',null,'当前楼层：',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.messageId>=0?`#${e.messageId}`:'暂无'),1)]),(0,o.createElementVNode)('article',c,(0,o.toDisplayString)(n.value),1)]))}});var u=n(667);const d=(0,u.A)(i,[['__scopeId','data-v-43de0948']]),m={class:'card options-panel'},p={key:0,class:'empty'},v={key:1,class:'list'},g=['disabled','onClick'],f={class:'title'},h={class:'content'},y={class:'custom-row'},E=['disabled'],b=(0,o.defineComponent)({__name:'OptionsPanel',props:{options:{},disabled:{type:Boolean}},emits:['select'],setup(e,{emit:t}){const n=t,a=(0,o.ref)('');function s(){const e=a.value;e&&(n('select',{id:`custom-${Date.now()}`,title:'自定义行动',content:e,isCustom:!0}),a.value='')}return(t,r)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',m,[r[1]||(r[1]=(0,o.createElementVNode)('header',{class:'head'},[(0,o.createElementVNode)('strong',null,'可选行动')],-1)),0===e.options.length?((0,o.openBlock)(),(0,o.createElementBlock)('div',p,'当前消息未解析出选项')):((0,o.openBlock)(),(0,o.createElementBlock)('div',v,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.options,t=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:t.id,class:'option-btn',disabled:e.disabled,onClick:e=>{n('select',t)}},[(0,o.createElementVNode)('span',f,(0,o.toDisplayString)(t.title),1),(0,o.createElementVNode)('span',h,(0,o.toDisplayString)(t.content),1)],8,g))),128))])),(0,o.createElementVNode)('div',y,[(0,o.withDirectives)((0,o.createElementVNode)('input',{'onUpdate:modelValue':r[0]||(r[0]=e=>a.value=e),class:'custom-input',placeholder:'输入自定义行动内容'},null,512),[[o.vModelText,a.value,void 0,{trim:!0}]]),(0,o.createElementVNode)('button',{class:'custom-btn',disabled:e.disabled||!a.value,onClick:s},'发送',8,E)])]))}}),k=(0,u.A)(b,[['__scopeId','data-v-17d36e64']]),V={class:'meta card'},S=['disabled'],N=(0,o.defineComponent)({__name:'GameMain',setup(e){const t=(0,s.T)(),n=(0,a.m)(),r=(0,o.computed)(()=>{const e=n.getCurrentSceneCharacters();return e.length>0?e.join(' / '):'无'});function l(e){return'object'==typeof e&&null!==e&&'message_id'in e&&'message'in e&&'number'==typeof e.message_id&&'string'==typeof e.message}async function c(){const e=getLastMessageId();if(e<0)return t.setMessage(t.getOpeningLine(),0),void t.setOptions([]);let n;for(let t=e;t>=0;t-=1){const e=getChatMessages(t,{role:'assistant',hide_state:'all'})[0];if(l(e)){n=e;break}}return n?0===n.message_id?(t.setMessage(t.getOpeningLine(),0),void t.setOptions([])):(t.setMessage(n.message,n.message_id),void t.setOptions(function(e){const t=e.match(/<roleplay_options>([\s\S]*?)<\/roleplay_options>/i);if(!t)return[];const n=t[1].split('\n').map(e=>e.trim()).filter(Boolean),o=[];for(let e=0;e<n.length;e+=1){const t=n[e].match(/^(.+?)[:：]\s*(.+)$/);t&&o.push({id:`opt-${e}-${Date.now()}`,title:t[1].trim(),content:t[2].trim().replace(/^「(.+)」$/,'$1').replace(/^\$\{(.+)\}$/,'$1')})}return o}(n.message))):(t.setMessage(t.getOpeningLine(),0),void t.setOptions([]))}async function i(){t.setLoading(!0);try{await n.refresh(),await c()}finally{t.setLoading(!1)}}async function u(e){if(!t.isGenerating){t.setGenerating(!0);try{await createChatMessages([{role:'user',message:e.content}]),await triggerSlash('/trigger'),await i()}catch(e){console.error('[同层前端_v3] 发送选项失败:',e)}finally{t.setGenerating(!1)}}}let m=null;return(0,o.onMounted)(async()=>{await n.initialize(),await i(),m=eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED,async()=>{await i()})}),(0,o.onUnmounted)(()=>{m?.stop(),m=null}),(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',null,[(0,o.createVNode)(d,{message:(0,o.unref)(t).currentMessage,'message-id':(0,o.unref)(t).currentMessageId},null,8,['message','message-id']),(0,o.createVNode)(k,{options:(0,o.unref)(t).options,disabled:(0,o.unref)(t).isGenerating,onSelect:u},null,8,['options','disabled']),(0,o.createElementVNode)('div',V,[(0,o.createElementVNode)('div',null,'主视角：'+(0,o.toDisplayString)((0,o.unref)(t).selectedPov??(0,o.unref)(n).mvuData?._主视角??'未知'),1),(0,o.createElementVNode)('div',null,'当前场景角色：'+(0,o.toDisplayString)(r.value),1),(0,o.createElementVNode)('button',{class:'refresh-btn',disabled:(0,o.unref)(t).isLoading,onClick:i},(0,o.toDisplayString)((0,o.unref)(t).isLoading?'刷新中...':'刷新消息'),9,S)])]))}}),B=(0,u.A)(N,[['__scopeId','data-v-59ed0d1d']])},110(e,t,n){n.d(t,{default:()=>d}),n.r(t);var o=n(300),a=n(268);const s={class:'card history'},r={key:0,class:'empty'},l={key:1,class:'list'},c=['onClick'],i={class:'preview'},u=(0,o.defineComponent)({__name:'HistoryMessages',setup(e){const t=(0,a.useRouter)(),n=(0,o.ref)([]),u=(0,o.ref)(''),d=(0,o.computed)(()=>{const e=u.value.toLowerCase();return e?n.value.filter(t=>t.message.toLowerCase().includes(e)):n.value});async function m(){const e=[];for(let t=getLastMessageId();t>=0;t-=1){const n=getChatMessages(t,{hide_state:'all'})[0];if(n?.message&&(e.push({message_id:n.message_id,role:n.role,message:n.message}),e.length>=80))break}n.value=e}return(0,o.onMounted)(async()=>{await m()}),(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',s,[(0,o.createElementVNode)('header',{class:'head'},[n[1]||(n[1]=(0,o.createElementVNode)('h2',null,'历史消息',-1)),(0,o.createElementVNode)('button',{class:'btn',onClick:m},'刷新')]),(0,o.withDirectives)((0,o.createElementVNode)('input',{'onUpdate:modelValue':n[0]||(n[0]=e=>u.value=e),class:'search',placeholder:'搜索消息内容...'},null,512),[[o.vModelText,u.value,void 0,{trim:!0}]]),0===d.value.length?((0,o.openBlock)(),(0,o.createElementBlock)('div',r,'暂无匹配消息')):((0,o.openBlock)(),(0,o.createElementBlock)('ul',l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.value,e=>((0,o.openBlock)(),(0,o.createElementBlock)('li',{key:e.message_id,class:'item'},[(0,o.createElementVNode)('button',{class:'jump',onClick:n=>async function(e){try{await triggerSlash(`/chat-jump ${e}`)}catch(e){console.warn('[同层前端_v3] 历史跳转失败:',e)}await t.push('/game')}(e.message_id)},'#'+(0,o.toDisplayString)(e.message_id)+' · '+(0,o.toDisplayString)(e.role),9,c),(0,o.createElementVNode)('p',i,(0,o.toDisplayString)(e.message),1)]))),128))]))]))}});const d=(0,n(667).A)(u,[['__scopeId','data-v-b25c270c']])},958(e,t,n){n.d(t,{default:()=>p}),n.r(t);var o=n(300),a=n(63);const s={class:'card settings'},r={class:'group'},l=['value'],c={class:'group'},i=['value'],u={class:'group'},d=['value'],m=(0,o.defineComponent)({__name:'SettingsPage',setup(e){const t=(0,a.C)(),n=(0,o.computed)(()=>t.settings);function m(e){const n=e.target.value;t.updateSettings({theme:n})}function p(e){const n=e.target.value;t.updateSettings({fontScheme:n})}function v(e){const n=e.target.value;t.updateSettings({fontSize:n})}return(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',s,[a[7]||(a[7]=(0,o.createElementVNode)('h2',null,'基础设置',-1)),(0,o.createElementVNode)('div',r,[a[2]||(a[2]=(0,o.createElementVNode)('label',null,'主题',-1)),(0,o.createElementVNode)('select',{value:n.value.theme,onChange:m},[...a[1]||(a[1]=[(0,o.createElementVNode)('option',{value:'warm'},'暖色',-1),(0,o.createElementVNode)('option',{value:'cool'},'冷色',-1),(0,o.createElementVNode)('option',{value:'high-contrast'},'高对比',-1),(0,o.createElementVNode)('option',{value:'eye-care'},'护眼',-1)])],40,l)]),(0,o.createElementVNode)('div',c,[a[4]||(a[4]=(0,o.createElementVNode)('label',null,'字体方案',-1)),(0,o.createElementVNode)('select',{value:n.value.fontScheme,onChange:p},[...a[3]||(a[3]=[(0,o.createElementVNode)('option',{value:'default'},'默认',-1),(0,o.createElementVNode)('option',{value:'reading'},'阅读',-1),(0,o.createElementVNode)('option',{value:'artistic'},'艺术',-1)])],40,i)]),(0,o.createElementVNode)('div',u,[a[6]||(a[6]=(0,o.createElementVNode)('label',null,'字号',-1)),(0,o.createElementVNode)('select',{value:n.value.fontSize,onChange:v},[...a[5]||(a[5]=[(0,o.createElementVNode)('option',{value:'small'},'小',-1),(0,o.createElementVNode)('option',{value:'medium'},'中',-1),(0,o.createElementVNode)('option',{value:'large'},'大',-1)])],40,d)]),(0,o.createElementVNode)('button',{class:'reset-btn',onClick:a[0]||(a[0]=(...e)=>(0,o.unref)(t).resetSettings&&(0,o.unref)(t).resetSettings(...e))},'恢复默认')]))}});const p=(0,n(667).A)(m,[['__scopeId','data-v-0d5715f9']])},893(e,t,n){n.d(t,{default:()=>p}),n.r(t);var o=n(300),a=n(268),s=n(729),r=n(682);const l={class:'card start'},c={key:0,class:'pov card'},i=['value'],u={key:1,class:'hint done'},d=['disabled'],m=(0,o.defineComponent)({__name:'StartScreen',setup(e){const t=(0,a.useRouter)(),n=(0,s.m)(),m=(0,r.T)(),p=(0,o.ref)(!1),v=(0,o.computed)(()=>!m.selectedPov),g=(0,o.computed)(()=>m.listAvailablePov()),f=(0,o.ref)(m.selectedPov??m.listAvailablePov()[0]??'保登心爱');async function h(){if(!p.value){p.value=!0;try{v.value&&m.setPov(f.value),await n.initialize(),await t.push('/game')}catch(e){console.error('[同层前端_v3] 启动页初始化失败:',e)}finally{p.value=!1}}}return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',l,[t[3]||(t[3]=(0,o.createElementVNode)('h1',null,'点兔同层前端 v3',-1)),t[4]||(t[4]=(0,o.createElementVNode)('p',null,'先初始化 MVU 与消息状态，再进入主界面。',-1)),v.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',c,[t[1]||(t[1]=(0,o.createElementVNode)('h2',null,'主视角',-1)),t[2]||(t[2]=(0,o.createElementVNode)('p',{class:'hint'},'首次进入请选择主视角，开场白将按该视角确定。',-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(g.value,e=>((0,o.openBlock)(),(0,o.createElementBlock)('label',{key:e,class:'pov-item'},[(0,o.withDirectives)((0,o.createElementVNode)('input',{'onUpdate:modelValue':t[0]||(t[0]=e=>f.value=e),type:'radio',value:e},null,8,i),[[o.vModelRadio,f.value]]),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e),1)]))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('p',u,'已记住主视角：'+(0,o.toDisplayString)((0,o.unref)(m).selectedPov),1)),(0,o.createElementVNode)('button',{class:'start-btn',disabled:p.value,onClick:h},(0,o.toDisplayString)(p.value?'初始化中...':'Press Start'),9,d)]))}});const p=(0,n(667).A)(m,[['__scopeId','data-v-382a9dac']])},667(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}},35(t,n,o){t.exports=(e=>{var t={};return o.d(t,e),t})({createPinia:()=>e.createPinia,defineStore:()=>e.defineStore})},268(e,n,o){e.exports=(e=>{var t={};return o.d(t,e),t})({createMemoryHistory:()=>t.createMemoryHistory,createRouter:()=>t.createRouter,useRoute:()=>t.useRoute,useRouter:()=>t.useRouter})},300(e,t,o){e.exports=(e=>{var t={};return o.d(t,e),t})({Fragment:()=>n.Fragment,computed:()=>n.computed,createApp:()=>n.createApp,createBlock:()=>n.createBlock,createCommentVNode:()=>n.createCommentVNode,createElementBlock:()=>n.createElementBlock,createElementVNode:()=>n.createElementVNode,createVNode:()=>n.createVNode,defineComponent:()=>n.defineComponent,onMounted:()=>n.onMounted,onUnmounted:()=>n.onUnmounted,openBlock:()=>n.openBlock,ref:()=>n.ref,renderList:()=>n.renderList,resolveComponent:()=>n.resolveComponent,toDisplayString:()=>n.toDisplayString,unref:()=>n.unref,vModelRadio:()=>n.vModelRadio,vModelText:()=>n.vModelText,version:()=>n.version,watch:()=>n.watch,withDirectives:()=>n.withDirectives})}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})};var r=s(35),l=s(300),c=s(268);const i={class:'top-nav card'},u=(0,l.defineComponent)({__name:'TopNavBar',setup(e){const t=(0,c.useRouter)();function n(){t.push('/')}function o(){t.push('/game')}function a(){t.push('/history')}function s(){t.push('/settings')}return(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('header',i,[(0,l.createElementVNode)('button',{class:'btn',onClick:n},'首页'),t[0]||(t[0]=(0,l.createElementVNode)('div',{class:'spacer'},null,-1)),(0,l.createElementVNode)('button',{class:'btn',onClick:o},'主界面'),(0,l.createElementVNode)('button',{class:'btn',onClick:a},'历史'),(0,l.createElementVNode)('button',{class:'btn',onClick:s},'设置')]))}});var d=s(667);const m=(0,d.A)(u,[['__scopeId','data-v-62b2dca0']]);var p=s(63);const v=['data-theme','data-font','data-font-size'],g={class:'app-main'},f=(0,l.defineComponent)({__name:'App',setup(e){const t=(0,c.useRoute)(),n=(0,p.C)();return(e,o)=>{const a=(0,l.resolveComponent)('router-view');return(0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'app-shell','data-theme':(0,l.unref)(n).settings.theme,'data-font':(0,l.unref)(n).settings.fontScheme,'data-font-size':(0,l.unref)(n).settings.fontSize},['start'!==(0,l.unref)(t).name?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0})):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('main',g,[(0,l.createVNode)(a)])],8,v)}}}),h=(0,d.A)(f,[['__scopeId','data-v-dea1f0fc']]),y=(0,c.createRouter)({history:(0,c.createMemoryHistory)(),routes:[{path:'/',name:'start',component:()=>Promise.resolve().then(s.bind(s,893))},{path:'/game',name:'game',component:()=>Promise.resolve().then(s.bind(s,378))},{path:'/history',name:'history',component:()=>Promise.resolve().then(s.bind(s,110))},{path:'/settings',name:'settings',component:()=>Promise.resolve().then(s.bind(s,958))}]}),E=(0,l.createApp)(h);function b(){const e=globalThis.$;return'function'==typeof e?e:null}function k(e){const t=document.getElementById('app');t&&(t.innerHTML=`\n    <div style="padding:12px;border:1px solid #f0d4d4;border-radius:8px;background:#fff7f7;color:#7a3030;line-height:1.6;">\n      <div style="font-weight:700;margin-bottom:6px;">同层前端启动失败</div>\n      <div style="white-space:pre-wrap;word-break:break-word;">${function(e){return e instanceof Error?`${e.name}: ${e.message}`:String(e)}(e)}</div>\n    </div>\n  `)}E.use((0,r.createPinia)()),E.use(y),E.config.errorHandler=e=>{console.error('[同层前端_v3] Vue 运行时错误:',e)},y.onError(e=>{console.error('[同层前端_v3] 路由错误:',e)}),function(e){const $=b();$?$(e):'loading'===document.readyState?document.addEventListener('DOMContentLoaded',e,{once:!0}):e()}(()=>{(async function(){const e=document.getElementById('app'),t=globalThis.Vue?.version;console.info('[同层前端_v3][probe] buildTag:','v3-cdnprobe-2026-02-27a'),console.info('[同层前端_v3][probe] vueVersion(import):',l.version),console.info('[同层前端_v3][probe] vueVersion(globalThis.Vue):',t??'undefined'),console.info('[同层前端_v3][probe] #app exists/isConnected:',!!e,e?.isConnected??!1),await y.replace('/'),await y.isReady(),E.mount('#app')})().catch(e=>{console.error('[同层前端_v3] 启动失败:',e),k(e)})}),function(e){const $=b();$?$(window).on('pagehide',e):window.addEventListener('pagehide',e,{once:!0})}(()=>{try{E.unmount()}catch(e){console.warn('[同层前端_v3] 卸载异常:',e)}});
//# sourceMappingURL=index.js.map</script><style>.top-nav[data-v-62b2dca0]{position:sticky;top:0;z-index:20;display:flex;gap:8px;align-items:center;padding:8px;margin-bottom:12px}.spacer[data-v-62b2dca0]{flex:1}.btn[data-v-62b2dca0]{border:1px solid var(--border-color);background:var(--secondary-bg);color:var(--text-primary);border-radius:8px;padding:6px 10px;cursor:pointer}
.app-shell[data-v-dea1f0fc]{min-height:100vh;background:var(--primary-bg);color:var(--text-primary)}.app-main[data-v-dea1f0fc]{width:min(960px,100%);margin:0 auto;padding:12px}
:root{--primary-bg:#faf8f5;--secondary-bg:#f5f0e8;--accent-color:#d4a574;--text-primary:#3f3f46;--text-secondary:#71717a;--border-color:#e7e5e4;--font-body:'Noto Serif SC','Source Han Serif CN',serif;--font-ui:'Noto Sans SC','Source Han Sans CN',sans-serif}[data-theme=cool]{--primary-bg:#f0f4f8;--secondary-bg:#e8f0f8;--accent-color:#6b8cae;--text-primary:#3a4a5a;--text-secondary:#6a7a8a;--border-color:#d0dce8}[data-theme=high-contrast]{--primary-bg:#ffffff;--secondary-bg:#f5f5f5;--accent-color:#1a1a1a;--text-primary:#000000;--text-secondary:#333333;--border-color:#cccccc}[data-theme=eye-care]{--primary-bg:#f5f0e6;--secondary-bg:#ebe5d9;--accent-color:#8b7355;--text-primary:#5a4a3a;--text-secondary:#7a6a5a;--border-color:#d5cfc3}[data-font=reading]{--font-body:'LXGW WenKai','Noto Serif SC',serif}[data-font=artistic]{--font-body:'ZCOOL QingKe HuangYou','Noto Serif SC',serif}[data-font-size=small]{font-size:14px}[data-font-size=medium]{font-size:16px}[data-font-size=large]{font-size:18px}*{box-sizing:border-box}html,body,#app{margin:0;min-height:100%}body{font-family:var(--font-body);color:var(--text-primary);background:var(--primary-bg)}button,input,select,textarea{font-family:var(--font-ui)}.card{background:color-mix(in srgb,var(--secondary-bg) 72%,white 28%);border:1px solid var(--border-color);border-radius:10px}
.start[data-v-382a9dac]{margin-top:12vh;padding:24px;text-align:center}.pov[data-v-382a9dac]{margin:14px auto 0;max-width:520px;text-align:left;padding:12px}.pov h2[data-v-382a9dac]{margin:0 0 8px;font-size:16px}.hint[data-v-382a9dac]{margin:0 0 8px;color:var(--text-secondary);font-size:13px}.done[data-v-382a9dac]{margin-top:14px}.pov-item[data-v-382a9dac]{display:flex;align-items:center;gap:8px;padding:6px 0}.start-btn[data-v-382a9dac]{margin-top:16px;border:1px solid var(--border-color);background:var(--accent-color);color:#fff;border-radius:8px;padding:10px 18px;cursor:pointer}
.message-display[data-v-43de0948]{padding:12px}.head[data-v-43de0948]{font-size:13px;color:var(--text-secondary);margin-bottom:8px}.content[data-v-43de0948]{min-height:120px;line-height:1.7;white-space:pre-wrap}
.options-panel[data-v-17d36e64]{margin-top:12px;padding:12px}.head[data-v-17d36e64]{margin-bottom:10px}.empty[data-v-17d36e64]{color:var(--text-secondary);font-size:14px}.list[data-v-17d36e64]{display:grid;gap:8px}.option-btn[data-v-17d36e64]{border:1px solid var(--border-color);background:#fff;border-radius:8px;padding:10px;text-align:left;cursor:pointer}.title[data-v-17d36e64]{display:block;font-weight:700}.content[data-v-17d36e64]{display:block;margin-top:4px;color:var(--text-secondary);font-size:14px}.custom-row[data-v-17d36e64]{margin-top:10px;display:flex;gap:8px}.custom-input[data-v-17d36e64]{flex:1;border:1px solid var(--border-color);border-radius:8px;padding:8px}.custom-btn[data-v-17d36e64]{border:1px solid var(--border-color);background:var(--secondary-bg);border-radius:8px;padding:8px 12px;cursor:pointer}
.meta[data-v-59ed0d1d]{margin-top:12px;padding:10px;display:grid;gap:8px}.refresh-btn[data-v-59ed0d1d]{justify-self:start;border:1px solid var(--border-color);background:var(--secondary-bg);border-radius:8px;padding:8px 12px;cursor:pointer}
.history[data-v-b25c270c]{padding:12px}.head[data-v-b25c270c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.btn[data-v-b25c270c]{border:1px solid var(--border-color);background:var(--secondary-bg);border-radius:8px;padding:6px 10px;cursor:pointer}.search[data-v-b25c270c]{width:100%;border:1px solid var(--border-color);border-radius:8px;padding:8px;margin-bottom:10px}.empty[data-v-b25c270c]{color:var(--text-secondary)}.list[data-v-b25c270c]{list-style:none;padding:0;margin:0;display:grid;gap:8px}.item[data-v-b25c270c]{border:1px solid var(--border-color);border-radius:8px;padding:8px}.jump[data-v-b25c270c]{border:none;background:rgba(0,0,0,0);color:var(--accent-color);cursor:pointer;font-weight:700;padding:0}.preview[data-v-b25c270c]{margin:6px 0 0;color:var(--text-secondary);font-size:14px;white-space:pre-wrap}
.settings[data-v-0d5715f9]{padding:12px;display:grid;gap:12px}.group[data-v-0d5715f9]{display:grid;gap:6px}select[data-v-0d5715f9]{border:1px solid var(--border-color);border-radius:8px;padding:8px;background:#fff}.reset-btn[data-v-0d5715f9]{justify-self:start;border:1px solid var(--border-color);background:var(--secondary-bg);border-radius:8px;padding:8px 12px;cursor:pointer}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>